=pod

=head1 NAME

OSSL_CMP_MSG_http_perform,
OSSL_CMP_proxy_connect
- implementation of HTTP transfer for CMP messages

=head1 SYNOPSIS

 #include <openssl/cmp.h>

 OSSL_CMP_MSG *OSSL_CMP_MSG_http_perform(OSSL_CMP_CTX *ctx,
                                         const OSSL_CMP_MSG *req);
 int OSSL_CMP_proxy_connect(BIO *bio, OSSL_CMP_CTX *ctx,
                            BIO *bio_err, const char *prog);

=head1 DESCRIPTION

This is the API for creating a BIO for CMP (Certificate Management
Protocol) over HTTP(S) with OpenSSL.

OSSL_CMP_MSG_http_perform() sends the given PKIMessage req to the CMP server
specified in ctx. It uses ctx->http_cb if set and respects ctx->msgTimeOut.

OSSL_CMP_proxy_connect() uses the CONNECT method to access the HTTPS server
given in the ctx via the TLS-capable proxy referenced in the given bio.
Any message timeout contanined the ctx is respected.
The bio_err and prog arguments are used just for error printing.

=head1 NOTES

CMP is defined in RFC 4210 (and CRMF in RFC 4211).

=head1 RETURN VALUES

OSSL_CMP_MSG_http_perform() returns the received response or NULL no error;

OSSL_CMP_proxy_connect() returns 1 on success and 0 on error.

=head1 SEE ALSO

L<OSSL_CMP_CTX_new(3)>, L<OSSL_CMP_exec_IR_ses(3)>

=head1 HISTORY

The OpenSSL CMP support was added in OpenSSL 3.0.

=head1 COPYRIGHT

Copyright 2007-2019 The OpenSSL Project Authors. All Rights Reserved.

Licensed under the Apache License 2.0 (the "License").  You may not use
this file except in compliance with the License.  You can obtain a copy
in the file LICENSE in the source distribution or at
L<https://www.openssl.org/source/license.html>.

=cut
